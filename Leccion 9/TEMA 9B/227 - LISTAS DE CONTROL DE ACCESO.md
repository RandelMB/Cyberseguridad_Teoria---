Una lista de control de acceso (ACL) es una lista de permisos asociados con un dispositivo de red, como un enrutador o un switch, que controla el tráfico a nivel de interfaz de red. Las ACL suelen utilizar la información de los paquetes, como las direcciones IP de origen y destino, los números de puerto y el protocolo, para decidir si permiten o deniegan el tráfico. Por lo general, se implementan en dispositivos de red para proporcionar control de tráfico a través de la red, al agregar una capa de seguridad y eficiencia. Por el contrario, una regla de cortafuegos dicta cómo los cortafuegos deben gestionar el tráfico de red entrante o saliente para direcciones IP, rangos de IP o interfaces de red específicos. Los cortafuegos suelen proporcionar control tanto a nivel de red como de aplicación. Están diseñados para proteger el perímetro de una red al evitar el acceso no autorizado hacia o desde una red. Las reglas del cortafuegos pueden basarse en varios factores, como direcciones IP, números de puerto, protocolos o incluso patrones de tráfico de aplicaciones específicos.

Las reglas de la ACL de un cortafuegos se procesan de arriba a abajo. Si el tráfico coincide con una de las reglas, entonces se le permite pasar; por lo tanto, las reglas más específicas se colocan en la parte superior. La regla final por defecto suele bloquear cualquier tráfico que no haya coincidido con una regla (denegación implícita). Si el cortafuegos no tiene una regla de denegación implícita por defecto, se puede añadir manualmente al final de la ACL.

![[Pasted image 20250328115245.png]]

Ejemplo de reglas de cortafuegos configuradas en IPFire. Este conjunto de reglas permite cualquier tráfico HTTP, HTTPS o SMTP a direcciones internas específicas. (Captura de pantalla utilizada con el permiso de IPFire)

Cada regla puede especificar si se bloquea o se permite el tráfico en función de varios parámetros, a menudo denominados tuplas. Si piensa que cada regla es como una fila en una base de datos, las tuplas son las columnas. Por ejemplo, en la captura de pantalla anterior, las tuplas incluyen Protocolo, Fuente (dirección), Puerto (Fuente), Destino (dirección), Puerto (Destino), etc.

Incluso el cortafuegos de filtrado de paquetes más simple puede ser complejo de configurar de forma segura. Es fundamental crear una política por escrito que describa lo que debe hacer un conjunto de reglas de filtrado, y probar la configuración en la medida de lo posible para garantizar que las ACL que se configuraron funcionen según lo previsto. Además, pruebe y documente los cambios realizados en las ACL. Algunos otros principios básicos son los siguientes:

Bloquear las solicitudes entrantes de direcciones IP internas o privadas (que obviamente fueron falsificadas).
Bloquear las solicitudes entrantes de protocolos que solo deberían funcionar a nivel de red local, como ICMP, DHCP o tráfico de protocolo de enrutamiento.
Utilizar las pruebas de penetración para confirmar que la configuración es segura. Registre los intentos de acceso y supervise los registros para detectar actividades sospechosas.
Tomar las medidas habituales para proteger el hardware en el que se ejecuta el cortafuegos y utilizar la interfaz de administración.
Por ejemplo, una regla de cortafuegos puede diseñarse específicamente para permitir o denegar el tráfico en función de los números de puerto TCP o UDP en los que opera un servicio. Si un servidor web en una red solo permitiera el tráfico HTTP y HTTPS entrante, se podrían establecer reglas para permitir el tráfico solo en los puertos 80 (HTTP) y 443 (HTTPS), los puertos estándar para estos servicios. Del mismo modo, se pueden definir reglas para restringir la entrada a la red de ciertos protocolos, como FTP o SSH, si no son necesarios, lo que reduce la superficie de ataque potencial.

Además, puede utilizar las reglas del cortafuegos para restringir el tráfico saliente a fin de evitar ciertos tipos de comunicación desde el interior de la red. Por ejemplo, una regla puede bloquear todo el tráfico saliente al puerto 25 (SMTP) para evitar que una máquina comprometida dentro de la red envíe correos electrónicos no deseados. 

Subred filtrada
Una subred filtrada, también conocida como red perimetral, crea una capa adicional de protección entre la red interna de una organización e Internet. Una subred filtrada actúa como una zona neutral, es decir, separa los servidores públicos de los recursos confidenciales de la red interna para reducir la exposición del recurso de la red interna a las amenazas externas. En términos prácticos, la subred filtrada suele alojar servicios web, de correo electrónico, DNS o FTP. Por lo general, estos sistemas deben ser accesibles desde el Internet público, pero estar aislados de los sistemas internos confidenciales para limitar el impacto de una violación de uno de estos servicios. Al colocar estos servidores en la subred filtrada, una organización puede limitar el daño si se ven comprometidos. 

Por lo general, los cortafuegos se utilizan para crear y controlar el tráfico hacia y desde la subred filtrada. El primer cortafuegos, entre Internet y la subred filtrada, se configura para permitir el tráfico a los servicios alojados en la subred filtrada. El segundo cortafuegos, entre la subred filtrada y la red interna, está configurado para bloquear la mayoría (prácticamente todo) del tráfico de la subred filtrada a la red interna. Una subred filtrada es una parte fundamental de la arquitectura de seguridad de una red y un ejemplo importante de la segmentación de la red como un tipo de control de seguridad.